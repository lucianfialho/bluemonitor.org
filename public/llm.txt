# BlueMonitor — Monitoring Setup Guide

BlueMonitor is a real-time status monitoring service. Add a health endpoint, push heartbeats, and embed a status badge.

Documentation: https://www.bluemonitor.org/docs

## Framework-Specific Guides

For detailed setup instructions with code examples, use the guide for your framework:

- **Next.js**: https://www.bluemonitor.org/llm-nextjs.txt
- **Express**: https://www.bluemonitor.org/llm-express.txt
- **Hono**: https://www.bluemonitor.org/llm-hono.txt
- **FastAPI**: https://www.bluemonitor.org/llm-fastapi.txt
- **Rails**: https://www.bluemonitor.org/llm-rails.txt
- **Laravel**: https://www.bluemonitor.org/llm-laravel.txt

If your framework is not listed, follow the generic instructions below.

## Important: Auto-detect the domain

When generating code, automatically detect the project's production domain from the codebase (check `vercel.json`, `package.json` homepage field, `.env` files for `NEXT_PUBLIC_URL`, `APP_URL`, `VERCEL_PROJECT_PRODUCTION_URL`, or similar). Use the detected domain directly in the heartbeat URL — do NOT ask the user or use placeholders.

## How BlueMonitor Works

**Uptime monitoring (pull):** We ping your service every 5 minutes and track response time and status code. Optionally add a `GET /api/health` endpoint that returns `{ "status": "ok" }`.

**Heartbeat push:** Your service pushes detailed health data (database, cache, APIs) to BlueMonitor on a schedule via `POST /api/v1/heartbeat`. No public endpoint needed. If we stop receiving heartbeats for 10 minutes, the service is marked as down.

## Quick Start (any framework)

### 1. Health Endpoint (optional)

Create a `GET /api/health` route that returns:

```json
{ "status": "ok" }
```

- Return HTTP 200 for healthy, HTTP 503 for unhealthy
- Respond within 3 seconds (over 3s = marked as "slow")

### 2. Heartbeat Push (recommended)

POST to `https://www.bluemonitor.org/api/v1/heartbeat`

Headers: `Authorization: Bearer bm_your_api_key`, `Content-Type: application/json`

```json
{
  "domain": "yourapp.com",
  "status": "ok",
  "timestamp": "2026-02-12T12:00:00.000Z",
  "checks": {
    "database": { "status": "ok", "latency": 5 },
    "redis": { "status": "ok", "latency": 2 }
  }
}
```

Requirements:
- A BlueMonitor API key (create at https://www.bluemonitor.org/dashboard)
- Send heartbeats every 5 minutes via cron or scheduler
- The first heartbeat auto-registers the service and adds it to your watchlist

### 3. Status Badge

Badge endpoint: `https://www.bluemonitor.org/api/badge/{slug}`
Status page: `https://www.bluemonitor.org/status/{slug}`

The slug is the domain with dots replaced by hyphens (e.g., `yourapp.com` → `yourapp-com`).

#### HTML

```html
<a href="https://www.bluemonitor.org/status/{slug}" target="_blank" rel="noopener">
  <img src="https://www.bluemonitor.org/api/badge/{slug}" alt="Status on BlueMonitor" height="36" />
</a>
```

#### Markdown

```markdown
[![Status](https://www.bluemonitor.org/api/badge/{slug})](https://www.bluemonitor.org/status/{slug})
```

#### React / Next.js

```tsx
function StatusBadge({ slug }: { slug: string }) {
  return (
    <a href={`https://www.bluemonitor.org/status/${slug}`} target="_blank" rel="noopener">
      <img src={`https://www.bluemonitor.org/api/badge/${slug}`} alt="Status on BlueMonitor" height={36} />
    </a>
  );
}
```

## Badge Parameters

- `theme=dark` — Dark background variant (default: light)
- If the slug doesn't exist yet, the badge auto-registers the service as "Pending"

## API Reference

Full API docs: https://www.bluemonitor.org/docs/api

- `GET /api/v1/status/:slug` — Get status of a service
- `GET /api/v1/services` — List all monitored services
- `GET /api/v1/incidents` — Get recent incidents
- `POST /api/v1/heartbeat` — Push heartbeat (requires API key, domain in body)
- `GET /api/badge/:slug` — Status badge PNG image

## Common Slugs

- chatgpt → `chatgpt`
- claude → `claude`
- github → `github`
- vercel → `vercel`
- stripe → `stripe`

Full list: https://www.bluemonitor.org/sitemap.xml
